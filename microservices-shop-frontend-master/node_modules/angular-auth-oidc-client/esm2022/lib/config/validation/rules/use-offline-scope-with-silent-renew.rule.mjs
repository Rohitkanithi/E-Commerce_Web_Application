import { POSITIVE_VALIDATION_RESULT } from '../rule';
export const useOfflineScopeWithSilentRenew = (passedConfig) => {
    const hasRefreshToken = passedConfig.useRefreshToken;
    const hasSilentRenew = passedConfig.silentRenew;
    const scope = passedConfig.scope || '';
    const hasOfflineScope = scope.split(' ').includes('offline_access');
    if (hasRefreshToken && hasSilentRenew && !hasOfflineScope) {
        return {
            result: false,
            messages: [
                'When using silent renew and refresh tokens please set the `offline_access` scope',
            ],
            level: 'warning',
        };
    }
    return POSITIVE_VALIDATION_RESULT;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLW9mZmxpbmUtc2NvcGUtd2l0aC1zaWxlbnQtcmVuZXcucnVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXItYXV0aC1vaWRjLWNsaWVudC9zcmMvbGliL2NvbmZpZy92YWxpZGF0aW9uL3J1bGVzL3VzZS1vZmZsaW5lLXNjb3BlLXdpdGgtc2lsZW50LXJlbmV3LnJ1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLDBCQUEwQixFQUF3QixNQUFNLFNBQVMsQ0FBQztBQUUzRSxNQUFNLENBQUMsTUFBTSw4QkFBOEIsR0FBRyxDQUM1QyxZQUFpQyxFQUNYLEVBQUU7SUFDeEIsTUFBTSxlQUFlLEdBQUcsWUFBWSxDQUFDLGVBQWUsQ0FBQztJQUNyRCxNQUFNLGNBQWMsR0FBRyxZQUFZLENBQUMsV0FBVyxDQUFDO0lBQ2hELE1BQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO0lBQ3ZDLE1BQU0sZUFBZSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFFcEUsSUFBSSxlQUFlLElBQUksY0FBYyxJQUFJLENBQUMsZUFBZSxFQUFFO1FBQ3pELE9BQU87WUFDTCxNQUFNLEVBQUUsS0FBSztZQUNiLFFBQVEsRUFBRTtnQkFDUixrRkFBa0Y7YUFDbkY7WUFDRCxLQUFLLEVBQUUsU0FBUztTQUNqQixDQUFDO0tBQ0g7SUFFRCxPQUFPLDBCQUEwQixDQUFDO0FBQ3BDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9wZW5JZENvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi8uLi9vcGVuaWQtY29uZmlndXJhdGlvbic7XG5pbXBvcnQgeyBQT1NJVElWRV9WQUxJREFUSU9OX1JFU1VMVCwgUnVsZVZhbGlkYXRpb25SZXN1bHQgfSBmcm9tICcuLi9ydWxlJztcblxuZXhwb3J0IGNvbnN0IHVzZU9mZmxpbmVTY29wZVdpdGhTaWxlbnRSZW5ldyA9IChcbiAgcGFzc2VkQ29uZmlnOiBPcGVuSWRDb25maWd1cmF0aW9uXG4pOiBSdWxlVmFsaWRhdGlvblJlc3VsdCA9PiB7XG4gIGNvbnN0IGhhc1JlZnJlc2hUb2tlbiA9IHBhc3NlZENvbmZpZy51c2VSZWZyZXNoVG9rZW47XG4gIGNvbnN0IGhhc1NpbGVudFJlbmV3ID0gcGFzc2VkQ29uZmlnLnNpbGVudFJlbmV3O1xuICBjb25zdCBzY29wZSA9IHBhc3NlZENvbmZpZy5zY29wZSB8fCAnJztcbiAgY29uc3QgaGFzT2ZmbGluZVNjb3BlID0gc2NvcGUuc3BsaXQoJyAnKS5pbmNsdWRlcygnb2ZmbGluZV9hY2Nlc3MnKTtcblxuICBpZiAoaGFzUmVmcmVzaFRva2VuICYmIGhhc1NpbGVudFJlbmV3ICYmICFoYXNPZmZsaW5lU2NvcGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICdXaGVuIHVzaW5nIHNpbGVudCByZW5ldyBhbmQgcmVmcmVzaCB0b2tlbnMgcGxlYXNlIHNldCB0aGUgYG9mZmxpbmVfYWNjZXNzYCBzY29wZScsXG4gICAgICBdLFxuICAgICAgbGV2ZWw6ICd3YXJuaW5nJyxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIFBPU0lUSVZFX1ZBTElEQVRJT05fUkVTVUxUO1xufTtcbiJdfQ==