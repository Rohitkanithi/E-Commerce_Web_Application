import { Injectable, inject } from '@angular/core';
import { AbstractLoggerService } from './abstract-logger.service';
import { LogLevel } from './log-level';
import * as i0 from "@angular/core";
export class LoggerService {
    constructor() {
        this.abstractLoggerService = inject(AbstractLoggerService);
    }
    logError(configuration, message, ...args) {
        if (this.loggingIsTurnedOff(configuration)) {
            return;
        }
        const { configId } = configuration;
        const messageToLog = this.isObject(message)
            ? JSON.stringify(message)
            : message;
        if (!!args && !!args.length) {
            this.abstractLoggerService.logError(`[ERROR] ${configId} - ${messageToLog}`, ...args);
        }
        else {
            this.abstractLoggerService.logError(`[ERROR] ${configId} - ${messageToLog}`);
        }
    }
    logWarning(configuration, message, ...args) {
        if (!this.logLevelIsSet(configuration)) {
            return;
        }
        if (this.loggingIsTurnedOff(configuration)) {
            return;
        }
        if (!this.currentLogLevelIsEqualOrSmallerThan(configuration, LogLevel.Warn)) {
            return;
        }
        const { configId } = configuration;
        const messageToLog = this.isObject(message)
            ? JSON.stringify(message)
            : message;
        if (!!args && !!args.length) {
            this.abstractLoggerService.logWarning(`[WARN] ${configId} - ${messageToLog}`, ...args);
        }
        else {
            this.abstractLoggerService.logWarning(`[WARN] ${configId} - ${messageToLog}`);
        }
    }
    logDebug(configuration, message, ...args) {
        if (!configuration) {
            return;
        }
        if (!this.logLevelIsSet(configuration)) {
            return;
        }
        if (this.loggingIsTurnedOff(configuration)) {
            return;
        }
        if (!this.currentLogLevelIsEqualOrSmallerThan(configuration, LogLevel.Debug)) {
            return;
        }
        const { configId } = configuration;
        const messageToLog = this.isObject(message)
            ? JSON.stringify(message)
            : message;
        if (!!args && !!args.length) {
            this.abstractLoggerService.logDebug(`[DEBUG] ${configId} - ${messageToLog}`, ...args);
        }
        else {
            this.abstractLoggerService.logDebug(`[DEBUG] ${configId} - ${messageToLog}`);
        }
    }
    currentLogLevelIsEqualOrSmallerThan(configuration, logLevelToCompare) {
        const { logLevel } = configuration || {};
        if (!logLevel) {
            return false;
        }
        return logLevel <= logLevelToCompare;
    }
    logLevelIsSet(configuration) {
        const { logLevel } = configuration || {};
        if (logLevel === null) {
            return false;
        }
        return logLevel !== undefined;
    }
    loggingIsTurnedOff(configuration) {
        const { logLevel } = configuration || {};
        return logLevel === LogLevel.None;
    }
    isObject(possibleObject) {
        return Object.prototype.toString.call(possibleObject) === '[object Object]';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.0.8", ngImport: i0, type: LoggerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.0.8", ngImport: i0, type: LoggerService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.0.8", ngImport: i0, type: LoggerService, decorators: [{
            type: Injectable,
            args: [{ providedIn: 'root' }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLWF1dGgtb2lkYy1jbGllbnQvc3JjL2xpYi9sb2dnaW5nL2xvZ2dlci5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRW5ELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7O0FBR3ZDLE1BQU0sT0FBTyxhQUFhO0lBRDFCO1FBRW1CLDBCQUFxQixHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0tBd0l4RTtJQXRJQyxRQUFRLENBQ04sYUFBa0MsRUFDbEMsT0FBc0IsRUFDdEIsR0FBRyxJQUFXO1FBRWQsSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFDMUMsT0FBTztTQUNSO1FBRUQsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLGFBQWEsQ0FBQztRQUNuQyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQztZQUN6QyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUM7WUFDekIsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUVaLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUMzQixJQUFJLENBQUMscUJBQXFCLENBQUMsUUFBUSxDQUNqQyxXQUFXLFFBQVEsTUFBTSxZQUFZLEVBQUUsRUFDdkMsR0FBRyxJQUFJLENBQ1IsQ0FBQztTQUNIO2FBQU07WUFDTCxJQUFJLENBQUMscUJBQXFCLENBQUMsUUFBUSxDQUNqQyxXQUFXLFFBQVEsTUFBTSxZQUFZLEVBQUUsQ0FDeEMsQ0FB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RUFBRSxRQUFRLEVBQUUsR0FBRyxhQUFhLElBQUksRUFBRSxDQUFDO1FBRXpDLE9BQU8sUUFBUSxLQUFLLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDcEMsQ0FBQztJQUVPLFFBQVEsQ0FBQyxjQUFtQjtRQUNsQyxPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxpQkFBaUIsQ0FBQztJQUM5RSxDQUFDOzhHQXhJVSxhQUFhO2tIQUFiLGFBQWEsY0FEQSxNQUFNOzsyRkFDbkIsYUFBYTtrQkFEekIsVUFBVTttQkFBQyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBpbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9wZW5JZENvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb25maWcvb3BlbmlkLWNvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHsgQWJzdHJhY3RMb2dnZXJTZXJ2aWNlIH0gZnJvbSAnLi9hYnN0cmFjdC1sb2dnZXIuc2VydmljZSc7XG5pbXBvcnQgeyBMb2dMZXZlbCB9IGZyb20gJy4vbG9nLWxldmVsJztcblxuQEluamVjdGFibGUoeyBwcm92aWRlZEluOiAncm9vdCcgfSlcbmV4cG9ydCBjbGFzcyBMb2dnZXJTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBhYnN0cmFjdExvZ2dlclNlcnZpY2UgPSBpbmplY3QoQWJzdHJhY3RMb2dnZXJTZXJ2aWNlKTtcblxuICBsb2dFcnJvcihcbiAgICBjb25maWd1cmF0aW9uOiBPcGVuSWRDb25maWd1cmF0aW9uLFxuICAgIG1lc3NhZ2U6IHN0cmluZ3xvYmplY3QsXG4gICAgLi4uYXJnczogYW55W11cbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubG9nZ2luZ0lzVHVybmVkT2ZmKGNvbmZpZ3VyYXRpb24pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBjb25maWdJZCB9ID0gY29uZmlndXJhdGlvbjtcbiAgICBjb25zdCBtZXNzYWdlVG9Mb2cgPSB0aGlzLmlzT2JqZWN0KG1lc3NhZ2UpXG4gICAgICA/IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpXG4gICAgICA6IG1lc3NhZ2U7XG5cbiAgICBpZiAoISFhcmdzICYmICEhYXJncy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuYWJzdHJhY3RMb2dnZXJTZXJ2aWNlLmxvZ0Vycm9yKFxuICAgICAgICBgW0VSUk9SXSAke2NvbmZpZ0lkfSAtICR7bWVzc2FnZVRvTG9nfWAsXG4gICAgICAgIC4uLmFyZ3NcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWJzdHJhY3RMb2dnZXJTZXJ2aWNlLmxvZ0Vycm9yKFxuICAgICAgICBgW0VSUk9SXSAke2NvbmZpZ0lkfSAtICR7bWVzc2FnZVRvTG9nfWBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbG9nV2FybmluZyhcbiAgICBjb25maWd1cmF0aW9uOiBPcGVuSWRDb25maWd1cmF0aW9uLFxuICAgIG1lc3NhZ2U6IHN0cmluZ3xvYmplY3QsXG4gICAgLi4uYXJnczogYW55W11cbiAgKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmxvZ0xldmVsSXNTZXQoY29uZmlndXJhdGlvbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sb2dnaW5nSXNUdXJuZWRPZmYoY29uZmlndXJhdGlvbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5jdXJyZW50TG9nTGV2ZWxJc0VxdWFsT3JTbWFsbGVyVGhhbihjb25maWd1cmF0aW9uLCBMb2dMZXZlbC5XYXJuKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgY29uZmlnSWQgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgY29uc3QgbWVzc2FnZVRvTG9nID0gdGhpcy5pc09iamVjdChtZXNzYWdlKVxuICAgICAgPyBKU09OLnN0cmluZ2lmeShtZXNzYWdlKVxuICAgICAgOiBtZXNzYWdlO1xuXG4gICAgaWYgKCEhYXJncyAmJiAhIWFyZ3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLmFic3RyYWN0TG9nZ2VyU2VydmljZS5sb2dXYXJuaW5nKFxuICAgICAgICBgW1dBUk5dICR7Y29uZmlnSWR9IC0gJHttZXNzYWdlVG9Mb2d9YCxcbiAgICAgICAgLi4uYXJnc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hYnN0cmFjdExvZ2dlclNlcnZpY2UubG9nV2FybmluZyhcbiAgICAgICAgYFtXQVJOXSAke2NvbmZpZ0lkfSAtICR7bWVzc2FnZVRvTG9nfWBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbG9nRGVidWcoXG4gICAgY29uZmlndXJhdGlvbjogT3BlbklkQ29uZmlndXJhdGlvbiB8IG51bGwsXG4gICAgbWVzc2FnZTogc3RyaW5nfG9iamVjdCxcbiAgICAuLi5hcmdzOiBhbnlbXVxuICApOiB2b2lkIHtcbiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubG9nTGV2ZWxJc1NldChjb25maWd1cmF0aW9uKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxvZ2dpbmdJc1R1cm5lZE9mZihjb25maWd1cmF0aW9uKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICF0aGlzLmN1cnJlbnRMb2dMZXZlbElzRXF1YWxPclNtYWxsZXJUaGFuKGNvbmZpZ3VyYXRpb24sIExvZ0xldmVsLkRlYnVnKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgY29uZmlnSWQgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgY29uc3QgbWVzc2FnZVRvTG9nID0gdGhpcy5pc09iamVjdChtZXNzYWdlKVxuICAgICAgPyBKU09OLnN0cmluZ2lmeShtZXNzYWdlKVxuICAgICAgOiBtZXNzYWdlO1xuXG4gICAgaWYgKCEhYXJncyAmJiAhIWFyZ3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLmFic3RyYWN0TG9nZ2VyU2VydmljZS5sb2dEZWJ1ZyhcbiAgICAgICAgYFtERUJVR10gJHtjb25maWdJZH0gLSAke21lc3NhZ2VUb0xvZ31gLFxuICAgICAgICAuLi5hcmdzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFic3RyYWN0TG9nZ2VyU2VydmljZS5sb2dEZWJ1ZyhcbiAgICAgICAgYFtERUJVR10gJHtjb25maWdJZH0gLSAke21lc3NhZ2VUb0xvZ31gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3VycmVudExvZ0xldmVsSXNFcXVhbE9yU21hbGxlclRoYW4oXG4gICAgY29uZmlndXJhdGlvbjogT3BlbklkQ29uZmlndXJhdGlvbixcbiAgICBsb2dMZXZlbFRvQ29tcGFyZTogTG9nTGV2ZWxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgeyBsb2dMZXZlbCB9ID0gY29uZmlndXJhdGlvbiB8fCB7fTtcblxuICAgIGlmICghbG9nTGV2ZWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9nTGV2ZWwgPD0gbG9nTGV2ZWxUb0NvbXBhcmU7XG4gIH1cblxuICBwcml2YXRlIGxvZ0xldmVsSXNTZXQoY29uZmlndXJhdGlvbjogT3BlbklkQ29uZmlndXJhdGlvbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHsgbG9nTGV2ZWwgfSA9IGNvbmZpZ3VyYXRpb24gfHwge307XG5cbiAgICBpZiAobG9nTGV2ZWwgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9nTGV2ZWwgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByaXZhdGUgbG9nZ2luZ0lzVHVybmVkT2ZmKGNvbmZpZ3VyYXRpb246IE9wZW5JZENvbmZpZ3VyYXRpb24pOiBib29sZWFuIHtcbiAgICBjb25zdCB7IGxvZ0xldmVsIH0gPSBjb25maWd1cmF0aW9uIHx8IHt9O1xuXG4gICAgcmV0dXJuIGxvZ0xldmVsID09PSBMb2dMZXZlbC5Ob25lO1xuICB9XG5cbiAgcHJpdmF0ZSBpc09iamVjdChwb3NzaWJsZU9iamVjdDogYW55KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwb3NzaWJsZU9iamVjdCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG59XG4iXX0=